<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Narrative | Cost Calculator - Monthly & One-Time</title>
    <style>
        /* --- General Styling (Dark Theme) --- */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: #1a1a1a;
            color: #f8f9fa;
            margin: 0;
            padding: 2rem;
            display: flex;
            justify-content: center;
        }
        .container {
            width: 100%;
            max-width: 900px;
            background: #212121;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.5);
        }
        h1, h2 {
            color: #ffffff;
            border-bottom: 2px solid #343a40;
            padding-bottom: 10px;
            margin-bottom: 1.5rem;
        }
        h1 { text-align: center; font-size: 2.2rem; text-transform: uppercase; letter-spacing: 1.5px; }
        h2 { font-size: 1.6rem; }
        
        /* --- Table Styling --- */
        table { width: 100%; border-collapse: collapse; margin-bottom: 2rem; }
        th, td { padding: 12px; text-align: left; border-bottom: 1px solid #343a40; color: #f8f9fa; }
        th { background-color: #2c2c2c; font-weight: 700; }
        td:first-child { font-weight: 600; }
        input[type="number"] { width: 80px; padding: 8px; border: 1px solid #495057; border-radius: 6px; text-align: center; background-color: #343434; color: #f8f9fa; }
        .na-cell { color: #6c757d; text-align: center; }

        /* --- Services Styling --- */
        .services-list { display: flex; flex-direction: column; gap: 1.5rem; margin-bottom: 2rem; }
        .service-item { display: flex; align-items: flex-start; gap: 10px; }
        .service-item input[type="checkbox"] { margin-top: 5px; flex-shrink: 0; accent-color: #007bff; transform: scale(1.2); }
        .service-details label { font-weight: 600; font-size: 1.1rem; display: block; color: #ffffff; }
        .service-description { margin: 4px 0 0 0; color: #adb5bd; font-size: 0.95rem; line-height: 1.5; }

        /* --- Summary Styling --- */
        .summary-section { margin-top: 2rem; padding-top: 1.5rem; border-top: 2px solid #343a40; display: flex; justify-content: flex-end; }
        .summary-box { width: 400px; background-color: #2c2c2c; padding: 1.5rem; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.3); }
        .summary-row { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; font-size: 1.1rem; color: #f8f9fa; }
        .summary-row span { font-weight: 600; }
        .summary-divider { border-bottom: 2px solid #495057; margin: 10px 0; }
        .summary-total h3 { margin: 0; font-size: 1.1rem; }
        .summary-total .total-amount { font-size: 1.8rem; font-weight: bold; color: #007bff; }
    </style>
</head>
<body>

<div class="container">
    <h1>Narrative Cost Calculator üóìÔ∏è</h1>

    <h2>Content Deliverables (Weekly)</h2>
    <table>
        <thead><tr><th>Platform</th><th>Static Post</th><th>Carousel</th><th>Reels/Video</th><th>Story</th><th>Tweet</th></tr></thead>
        <tbody>
            <tr><td>Facebook</td><td><input type="number" class="cost-input" data-cost-key="static_fb" min="0" value="0"></td><td><input type="number" class="cost-input" data-cost-key="carousel_fb" min="0" value="0"></td><td><input type="number" class="cost-input" data-cost-key="reels_fb" min="0" value="0"></td><td><input type="number" class="cost-input" data-cost-key="story_fb" min="0" value="0"></td><td class="na-cell">N/A</td></tr>
            <tr><td>Instagram</td><td><input type="number" class="cost-input" data-cost-key="static_ig" min="0" value="0"></td><td><input type="number" class="cost-input" data-cost-key="carousel_ig" min="0" value="0"></td><td><input type="number" class="cost-input" data-cost-key="reels_ig" min="0" value="0"></td><td><input type="number" class="cost-input" data-cost-key="story_ig" min="0" value="0"></td><td class="na-cell">N/A</td></tr>
            <tr><td>X (Twitter)</td><td class="na-cell">N/A</td><td class="na-cell">N/A</td><td><input type="number" class="cost-input" data-cost-key="video_x" min="0" value="0"></td><td class="na-cell">N/A</td><td><input type="number" class="cost-input" data-cost-key="tweet_x" min="0" value="0"></td></tr>
            <tr><td>Threads</td><td><input type="number" class="cost-input" data-cost-key="static_th" min="0" value="0"></td><td><input type="number" class="cost-input" data-cost-key="carousel_th" min="0" value="0"></td><td><input type="number" class="cost-input" data-cost-key="video_th" min="0" value="0"></td><td class="na-cell">N/A</td><td class="na-cell">N/A</td></tr>
        </tbody>
    </table>

    <h2>Monthly Retainer Services</h2>
    <div class="services-list">
        <div class="service-item"><input type="checkbox" id="cm" class="cost-input" data-cost-key="community_management"><div class="service-details"><label for="cm">Community Management</label><p class="service-description">We engage with your audience by responding to comments and messages, fostering a loyal and active community.</p></div></div>
        <div class="service-item"><input type="checkbox" id="reporting" class="cost-input" data-cost-key="reporting"><div class="service-details"><label for="reporting">Reporting</label><p class="service-description">Receive clear, insightful monthly reports that track key metrics and performance, helping you understand your ROI.</p></div></div>
        <div class="service-item"><input type="checkbox" id="ideation" class="cost-input" data-cost-key="campaign_ideation"><div class="service-details"><label for="ideation">Campaign Ideation</label><p class="service-description">We brainstorm and develop creative, data-driven campaign concepts designed to meet your specific marketing goals.</p></div></div>
        <div class="service-item"><input type="checkbox" id="execution" class="cost-input" data-cost-key="campaign_execution"><div class="service-details"><label for="execution">Campaign Execution</label><p class="service-description">Our team manages the end-to-end execution of your campaigns, ensuring a seamless and effective rollout.</p></div></div>
        <div class="service-item"><input type="checkbox" id="copywriting" class="cost-input" data-cost-key="copywriting"><div class="service-details"><label for="copywriting">Copywriting</label><p class="service-description">Get compelling copy for your social media, website, or ads that captures your brand voice and drives action.</p></div></div>
    </div>

    <h2>One-Time Projects</h2>
    <div class="services-list">
        <div class="service-item"><input type="checkbox" id="ip_creation" class="cost-input" data-cost-key="ip_creation"><div class="service-details"><label for="ip_creation">IP Creation</label><p class="service-description">We create unique, ownable content properties like web series or podcast concepts that build long-term brand equity.</p></div></div>
        <div class="service-item"><input type="checkbox" id="website" class="cost-input" data-cost-key="website_design"><div class="service-details"><label for="website">Website Design</label><p class="service-description">We design and develop modern, responsive websites that offer a great user experience and convert visitors.</p></div></div>
    </div>
    
    <div class="summary-section">
        <div class="summary-box">
            <div class="summary-row"><span>Monthly Content Subtotal</span><span id="contentSubtotal">‚Çπ0</span></div>
            <div class="summary-row"><span>Monthly Services Subtotal</span><span id="monthlyServicesSubtotal">‚Çπ0</span></div>
            <div class="summary-row"><label for="discount">Discount on Retainer (%)</label><input type="number" id="discount" class="cost-input" value="0" min="0" style="width: 60px;"></div>
            <div class="summary-row summary-total"><h3>Final Monthly Retainer</h3><span id="finalMonthlyTotal" class="total-amount">‚Çπ0</span></div>

            <div class="summary-divider"></div>

            <div class="summary-row"><span>One-Time Projects Subtotal</span><span id="oneTimeProjectsSubtotal">‚Çπ0</span></div>
            <div class="summary-row summary-total"><h3>Total One-Time Cost</h3><span id="finalOneTimeTotal" class="total-amount">‚Çπ0</span></div>
        </div>
    </div>
</div>

<script>
    const rateCard = {
        static_fb: 2000, carousel_fb: 3500, reels_fb: 5000, story_fb: 1000,
        static_ig: 2500, carousel_ig: 4000, reels_ig: 7000, story_ig: 1500,
        video_x: 3000, tweet_x: 500,
        static_th: 400, carousel_th: 800, video_th: 1500,
        community_management: 25000, reporting: 10000, campaign_ideation: 30000,
        campaign_execution: 40000, copywriting: 20000,
        ip_creation: 50000, website_design: 150000,
    };

    function formatCurrency(amount) {
        return new Intl.NumberFormat('en-IN', { style: 'currency', currency: 'INR', minimumFractionDigits: 0 }).format(amount);
    }

    function calculateTotal() {
        // --- Calculate Content Cost ---
        let weeklyContentCost = 0;
        document.querySelectorAll('input[type="number"][data-cost-key]').forEach(input => {
            weeklyContentCost += (parseInt(input.value) || 0) * (rateCard[input.dataset.costKey] || 0);
        });
        const monthlyContentSubtotal = weeklyContentCost * 4;

        // --- Calculate Service Costs (Separated) ---
        let monthlyServicesSubtotal = 0;
        let oneTimeProjectsSubtotal = 0;
        document.querySelectorAll('input[type="checkbox"].cost-input').forEach(checkbox => {
            if (checkbox.checked) {
                const costKey = checkbox.dataset.costKey;
                const cost = rateCard[costKey] || 0;
                // Check if the service is a one-time project
                if (costKey === 'website_design' || costKey === 'ip_creation') {
                    oneTimeProjectsSubtotal += cost;
                } else {
                    monthlyServicesSubtotal += cost;
                }
            }
        });
        
        // --- Calculate Final Totals ---
        const grossMonthlyTotal = monthlyContentSubtotal + monthlyServicesSubtotal;
        const discountPercent = parseFloat(document.getElementById('discount').value) || 0;
        const discountAmount = grossMonthlyTotal * (discountPercent / 100);
        const finalMonthlyTotal = grossMonthlyTotal - discountAmount;
        
        const finalOneTimeTotal = oneTimeProjectsSubtotal; // One-time total is just the sum
        
        // --- Update UI ---
        document.getElementById('contentSubtotal').textContent = formatCurrency(monthlyContentSubtotal);
        document.getElementById('monthlyServicesSubtotal').textContent = formatCurrency(monthlyServicesSubtotal);
        document.getElementById('finalMonthlyTotal').textContent = formatCurrency(finalMonthlyTotal);
        document.getElementById('oneTimeProjectsSubtotal').textContent = formatCurrency(oneTimeProjectsSubtotal);
        document.getElementById('finalOneTimeTotal').textContent = formatCurrency(finalOneTimeTotal);
    }

    document.querySelectorAll('.cost-input').forEach(input => input.addEventListener('input', calculateTotal));
    document.addEventListener('DOMContentLoaded', calculateTotal);
</script>

</body>
</html>
